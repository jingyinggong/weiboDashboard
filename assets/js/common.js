// Generated by CoffeeScript 1.3.3

$(function() {
  var $dropcheck, $droplabel, $dropmenu;
  $dropmenu = $('.drop-check');
  $droplabel = $dropmenu.find('label');
  $dropcheck = $dropmenu.find(':checkbox');
  $droplabel.click(function(e) {
    return e.stopPropagation();
  });
  return $dropcheck.change(function(e) {
    var check, max, o, ul, uncheck;
    o = $(this);
    ul = o.closest('.drop-check');
    max = ul.data('max-select');
    if (!max) {
      return false;
    }
    check = ul.find(':checked');
    uncheck = ul.find(':checkbox').not(':checked');
    if (check.length >= parseInt(max)) {
      return uncheck.attr('disabled', 'disabled');
    } else {
      return uncheck.removeAttr('disabled');
    }
  });
});
